<!--
author: 刘青
date: 2017-1-29
title: 总览
type: note
source: 
tags: 
category: php/src
status: publish 
summary: 
-->

### 第一章 准备工作和知识背景
做一些准备工作先，包括：
- 源码的获取编译
- 简单描述PHP源码结构和阅读方式
- 介绍高频的代码


### 第二章 用户代码的执行
PHP是一种优秀的脚步语言，从框架开发，架构设计，性能优化，PHP扩展，PHP编程涉及的知识结构非常宽泛。学习容易用好难，想要精通的话更得花大力气去看PHP实现。
PHP语言经过许多人多年的淬炼，性能不断优化，支持的语法现象和特性也越来越多。也导致PHP内核代码涉及知识多，实现复杂。

为了不过早的陷入细节中，我们先从整体上接触PHP的实现，包括PHP的整体结构，生命周期，PHP和其他容器（eg Apache）的交互，PHP的整个执行过程坐等进行一个大致的了解。

从宏观上看，PHP内核实现与世界上绝大多数的程序一样：接收输入数据，做相应处理，返回（输出）结果。但我们平时一般是用来解决某个具体的问题，而PHP本身实现了把用户逻辑“翻译”为机器语言来执行的功能，这也是各种编译语言与承载具体业务逻辑的程序代码的一个明显区别。

1. 用户把代码输入给PHP内核执行
2. PHP内核对PHP代码进行词法分析：将代码风格成一个个“单元”（TOKEN）
3. PHP内核进行语法分析：将TOKENs转化为Zend Engine可执行的操作
4. Zend Engine（PHP内核核心部分，复杂最终操作的执行和结果的返回）对操作进行顺次执行

接下来的内容包括：
1. PHP内部的生命周期
2. SAPI接口
3. 词法分析和语法分析
4. Opcodes

### 第三章 变量及数据类型
现代编程语言中的基本元素有：
- 变量
- 流程控制接口
- 函数
- 等

变量具有三个基本组成部分：
- 名称
- 类型：可以有三类
    - 静态类型：类型的检查在编译期就确定了，在运行时变量的类型不会发生变化
    - 动态类型：变量的类型在运行时确定的
    - 无类型：对类型毫无感知。比如汇编，直接操作底层存储
- 值

和变量本身相关的一些概念包括：
- 常量
- 全局变量
- 静态变量
- 类型转换

### 第四章 函数的实现
函数是代码块。从定义的角度分，包括：
- 用户定义的函数
- 内部函数：标准扩展和其他扩展

### 第五章 类和面向对象
面向对象是一种编程范式。它将对象作为程序的基本单元，将程序和数据封装起来来提高程序的重用性、灵活性和扩展性。
编程范式和具体的编程语言没有直接关系，只不过很多语言将这个范式作为语言的基本元素，使用C语言也能进行面向对象编程。
PHP中的面向对象内容包括：
- 类的定义和实现
- 接口
- 抽象类
- 类相关的访问控制
- 对象
- 命名空间

### 第六章 内存管理
内存是计算机非常关键的部件。
低级语言如C/C++会进行内存管理，很多语言将内存管理移到语言之后。程序员手动管理内存代价极大。

内存管理的重要工作是尽可能高效的利用内存。

内存操作包括：
- 内存的申请
- 内存的销毁
- 内存的修改

PHP中定义的变量、类、函数等实体在运行过程中都会涉及到内存的申请很释放。这些对象在何时申请内存和释放内存就很关键了。
PHP在5.3以前是使用引用计数技术，之后引入了新的垃圾回收机制。

### 第八章 线程安全
